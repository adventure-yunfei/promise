var Promise=function(n){function t(o){if(e[o])return e[o].exports;var i=e[o]={exports:{},id:o,loaded:!1};return n[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var e={};return t.m=n,t.c=e,t.p="",t(0)}([function(n,t){"use strict";function e(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function o(n){var t=arguments.length<=1||void 0===arguments[1]?"":arguments[1];if(!n)throw new Error(t||"__assert__ failed. ")}var i=function(){function n(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}return function(t,e,o){return e&&n(t.prototype,e),o&&n(t,o),t}}(),r=0,u=1,c=-1,a=function(){function n(t){var i=this;e(this,n),this.state=r,this.fulfilledHooks=[],this.rejectedHooks=[],this.propagated=!1,this.output=null,o("function"==typeof t,"InnerState constructor only accepts a function as input");try{t(function(n){i.finish(u,n)},function(n){i.finish(c,n)})}catch(n){this.finish(c,n)}}return i(n,[{key:"finish",value:function(n,t){var e=this;if(this.state===r){if(n===u&&t&&"function"==typeof t.then)return void t.then(function(n){return e.finish(u,n)},function(n){return e.finish(c,n)});this.state=n,this.output=t,setTimeout(function(){(n===u?e.fulfilledHooks:e.rejectedHooks).forEach(function(n){n(t)}),e.fulfilledHooks=[],e.rejectedHooks=[]},0)}}},{key:"onFinish",value:function(n,t){o(!n||"function"==typeof n,"InnerState.onFinish: onFulfilled must be a function"),o(!t||"function"==typeof t,"InnerState.onFinish: onRejected must be a function");var e=this.state,i=this.output,c=this.fulfilledHooks,a=this.rejectedHooks;e===r?(n&&c.push(n),t&&a.push(t)):!function(){var o=e===u?n:t;o&&setTimeout(function(){return o(i)},0)}()}}]),n}(),f="_s",s="_p",l=function(){function n(t){var i=this;e(this,n),o("function"==typeof t,"Promise constructor only accepts a function as input"),this[f]=new a(t),this[s]=!1,this[f].onFinish(null,function(t){setTimeout(function(){i[s]||n.onUnhandledRejection(t)},0)})}return i(n,null,[{key:"resolve",value:function(t){return new n(function(n,e){var o=function t(o){o&&"function"==typeof o.then?o.then(t,e):n(o)};o(t)})},enumerable:!0},{key:"reject",value:function(t){return new n(function(n,e){e(t)})},enumerable:!0},{key:"all",value:function(t){return o(Array.isArray(t),"Promise.all only accepts an array as input"),o(t.every(function(n){return"function"==typeof n.then}),"Promise.all only accepts an array of thenable object(promise) as input"),new n(function(n,e){var o=[],i=t.length,r=!1;t.forEach(function(t,u){t.then(function(t){r||(o[u]=t,i--,0===i&&(n(o),r=!0))},function(n){r||(e(n),r=!0)})})})},enumerable:!0},{key:"race",value:function(t){o(Array.isArray(t),"Promise.race only accepts an array as input"),o(t.every(function(n){return"function"==typeof n.then}),"Promise.race only accepts an array of thenable object(promise) as input");var e=!1,i=function(n){return function(t){e||(n(t),e=!0)}};return new n(function(n,e){t.forEach(function(t){t.then(i(n),i(e))})})},enumerable:!0},{key:"onUnhandledRejection",value:function(n){throw new Error("Unhandled promise rejection: "+n)},enumerable:!0}]),i(n,[{key:"then",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],i=arguments.length<=1||void 0===arguments[1]?null:arguments[1];return o(!e||"function"==typeof e,"Promise.then: onFulfilled must be a function"),o(!i||"function"==typeof i,"Promise.then: onRejected must be a function"),this[s]=!0,new n(function(n,o){var r=function(e,i,r){if(!e)return void r(i);var u;try{u=e(i)}catch(n){return void o(n)}u===t?o(new TypeError("get the same promise object on chain")):u&&"function"==typeof u.then?u.then(n,o):n(u)};t[f].onFinish(function(t){r(e,t,n)},function(n){r(i,n,o)})})}},{key:"catch",value:function(n){return o("function"==typeof n,"Promise.catch: onRejected must be a function"),this.then(null,n)}},{key:"finally",value:function(n){o("function"==typeof n,"Promise.finally: onFinally must be a function");var t=function(){return n()};return this[f].onFinish(t,t),this.then()}}]),n}();n.exports=l}]);